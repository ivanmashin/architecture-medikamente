# Рекомендации

| **#**  | **Категория**           | **Причина**                                    | **Приоритет** | **Предлагаемая мера**                                                                                                                                        |
|--------|-------------------------|------------------------------------------------|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **1**  | Инфраструктура          | Лимиты вертикального масштабирования           | **Middle**    | Перейти на Kubernetes с возможностью автоматического горизонтального масштабирования.                                                                        |
| **2**  | Инфраструктура          | Низкая доступность                             | **High**      | Каждый узел системы должен быть запущен не в единственном экземпляре. Критически важные узлы (к примеру, БД) в 3 экземплярах. Использовать Postgres Patroni. |
| **3**  | Инфраструктура          | Бутылочное горло БД                            | **High**      | Репликации БД, кеширование на уровне приложений.                                                                                                             |
| **4**  | Программное обеспечение | Отсутствие кэширования                         | **Middle**    | Ввести LRU кеш перед часто читаемыми и редко изменяющимися данными. Добавить метрики для анализа cache hit/miss ratio.                                       |
| **5**  | Интеграции              | Отсутствие единых контрактов API               | **Middle**    | Генерируемые схемы OpenAPI и gRPC в CI, добавить тестирование контрактов в CI.                                                                               |
| **6**  | Интеграции              | Файловый режим 1С и Excel                      | **Middle**    | Реализовать транспорт данных через ETL для доступа по API.                                                                                                   |
| **7**  | Персонал                | Команда не работала с выбранными инструментами | **Middle**    | Выделять в рамках спринта время на обучение, проводить совмесные встречи для обмена знаниями и опытом.                                                       |
| **8**  | Процессы                | Отсутствие нагрузочного тестирования           | **High**      | Выделить сценарии использования и собрать пайплайн нагрузочного тестирование с использованием инструментов Locust/Yandex Tank. Подготовить окружение для НТ. |
| **9**  | Процессы                | Отсутствие автоматического тестования          | **High**      | Вводить практику Unit-тестирования, следить за coverage. Ввести требование по обязательному автоматическому приемочному тестированию.                        |
| **10** | Процессы                | Редкие релизы                                  | **High**      | CI/CD для каждого сервиса, canary деплои, версионирование компонентов.                                                                                       |
| **11** | Безопасность            | Риск утечки данных                             | **High**      | Настройка и своевременный отзыв прав в Keykloak, OPA, постоянный аудит и контроль DataHub tags, хранение секретов в Vault с ограниченным доступом.           |
